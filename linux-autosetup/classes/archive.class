# Credit to Maxim Norin https://github.com/mnorin
# for OOP emulation base from https://stackoverflow.com/questions/36771080/creating-classes-and-objects-using-bash-scripting#comment115718570_40981277
# Modified by Aurtzy

# Class named "archive" for bash object

# fields
declare -Ag fields

# Handles getting/setting fields.
archive.field() {
	if [ "$2" == "=" ]; then
		fields[$1]=$3
	else
		echo ${fields[$1]}
	fi
}

# archive class constructor
# Params: $1 = 
archive.constructor() {
	archive.field name = "archive"
	
	echo "archive: Archive built."
}

#Getters/setters
archive.sourcePaths() {
	if [ "$2" = '' ]; then
		for (( i=1 ; i <= $(app.sourcePathsCount) ; i++ )); do
			archive.field sourcePath${i}
		done
	else
		if [ ${3: -1} = '/' ]; then
			sourcePath=${3::-1}
		fi
		archive.field sourcePath${1} "$2" "$sourcePath"
	fi
}
 # Stores number of sourcePaths
archive.sourcePathsCount() {
	declare -i intParam=$2
	archive.field sourcePathsCount "$1" "$intParam"
}

# Install archives to appropriate directories
archive.install() {
	echo "#implement archive.install"
}

archive.backup() {
	echo "#implement archive.backup"
}
